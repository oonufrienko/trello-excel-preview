<!DOCTYPE html>
<html>
<body>
<script>
    // Витягуємо токен з hash (#token=...)
    const hash = window.location.hash.substring(1);
    const token = new URLSearchParams(hash).get('token');
    console.log('Token in authorize.html:', token); // Дебаг: перевірте в консолі попапу
    if (token && window.opener && typeof window.opener.authorizeCallback === 'function') {
        window.opener.authorizeCallback(token); // Передаємо токен
        window.close(); // Закриваємо автоматично
    } else {
        console.error('Не вдалося передати токен. Закрийте вікно вручну.');
        setTimeout(window.close, 5000); // Закриваємо через 5s
    }
</script>
</body>
</html>
